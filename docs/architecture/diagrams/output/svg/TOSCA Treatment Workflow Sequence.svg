<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1775px" preserveAspectRatio="none" style="width:1713px;height:1775px;background:#FFFFFF;" version="1.1" viewBox="0 0 1713 1775" width="1713px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="507" x="601.5" y="35.4209">Treatment Workflow - Normal Operation</text><rect fill="#FFFFFF" height="310.4609" style="stroke:#000000;stroke-width:1.0;" width="1498.5" x="197.5" y="1032.7578"/><rect fill="#FFFFFF" height="133.6641" style="stroke:#000000;stroke-width:1.0;" width="1218.5" x="207.5" y="1202.5547"/><line style="stroke:#000000;stroke-width:1.0;" x1="50" x2="50" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="263.5" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="511" x2="511" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="668" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="819" x2="819" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="992.5" x2="992.5" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="1143.5" x2="1143.5" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="1353" x2="1353" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="1505" x2="1505" y1="128.9063" y2="1694.6797"/><line style="stroke:#000000;stroke-width:1.0;" x1="1640" x2="1640" y1="128.9063" y2="1694.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="75" x="10" y="125.6045">Technician</text><ellipse cx="50.5" cy="60.6094" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M50.5,68.6094 L50.5,95.6094 M37.5,76.6094 L63.5,76.6094 M50.5,95.6094 L37.5,110.6094 M50.5,95.6094 L63.5,110.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="75" x="10" y="1706.6748">Technician</text><ellipse cx="50.5" cy="1718.9766" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M50.5,1726.9766 L50.5,1753.9766 M37.5,1734.9766 L63.5,1734.9766 M50.5,1753.9766 L37.5,1768.9766 M50.5,1753.9766 L63.5,1768.9766 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="72" x="227.5" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58" x="234.5" y="117.6045">PyQt6 UI</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="72" x="227.5" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58" x="234.5" y="1713.6748">PyQt6 UI</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="133" x="445" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="119" x="452" y="117.6045">Session Manager</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="133" x="445" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="119" x="452" y="1713.6748">Session Manager</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="120" x="608" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106" x="615" y="117.6045">Safety Manager</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="120" x="608" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106" x="615" y="1713.6748">Safety Manager</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="123" x="758" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109" x="765" y="117.6045">Protocol Engine</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="123" x="758" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109" x="765" y="1713.6748">Protocol Engine</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="119" x="933.5" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105" x="940.5" y="117.6045">GPIO Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="119" x="933.5" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105" x="940.5" y="1713.6748">GPIO Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="122" x="1082.5" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108" x="1089.5" y="117.6045">Laser Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="122" x="1082.5" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108" x="1089.5" y="1713.6748">Laser Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="105" x="1301" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91" x="1308" y="117.6045">Event Logger</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="105" x="1301" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91" x="1308" y="1713.6748">Event Logger</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="138" x="1436" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="124" x="1443" y="117.6045">Camera Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="138" x="1436" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="124" x="1443" y="1713.6748">Camera Controller</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="72" x="1604" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58" x="1611" y="117.6045">Actuator</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="72" x="1604" y="1693.6797"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58" x="1611" y="1713.6748">Actuator</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1701" x="5" y="159.4727"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="159.4727" y2="159.4727"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="162.4727" y2="162.4727"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1.0;" width="169" x="771" y="148.9063"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150" x="777" y="164.9731">Session Initialization</text><polygon fill="#000000" points="251.5,199.1719,261.5,203.1719,251.5,207.1719,255.5,203.1719" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="203.1719" y2="203.1719"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="90" x="112" y="198.106">Select subject</text><polygon fill="#000000" points="499.5,228.3047,509.5,232.3047,499.5,236.3047,503.5,232.3047" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="505.5" y1="232.3047" y2="232.3047"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="224" x="275.5" y="227.2388">create_session(subject_id, tech_id)</text><polygon fill="#000000" points="1341.5,257.4375,1351.5,261.4375,1341.5,265.4375,1345.5,261.4375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="511.5" x2="1347.5" y1="261.4375" y2="261.4375"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="206" x="829.5" y="256.3716">log_event("SESSION_CREATED")</text><polygon fill="#000000" points="274.5,286.5703,264.5,290.5703,274.5,294.5703,270.5,290.5703" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="510.5" y1="290.5703" y2="290.5703"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="180" x="297.5" y="285.5044">session_created(session_id)</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1701" x="5" y="319.1367"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="319.1367" y2="319.1367"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="322.1367" y2="322.1367"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1.0;" width="173" x="769" y="308.5703"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154" x="775" y="324.6372">Pre-Treatment Setup</text><polygon fill="#000000" points="251.5,358.8359,261.5,362.8359,251.5,366.8359,255.5,362.8359" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="362.8359" y2="362.8359"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117" x="98.5" y="357.77">Start camera feed</text><polygon fill="#000000" points="1493,387.9688,1503,391.9688,1493,395.9688,1497,391.9688" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="1499" y1="391.9688" y2="391.9688"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112" x="828.25" y="386.9028">start_streaming()</text><polygon fill="#000000" points="251.5,417.1016,261.5,421.1016,251.5,425.1016,255.5,421.1016" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="421.1016" y2="421.1016"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97" x="108.5" y="416.0356">Align and focus</text><polygon fill="#000000" points="61.5,446.2344,51.5,450.2344,61.5,454.2344,57.5,450.2344" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="55.5" x2="262.5" y1="450.2344" y2="450.2344"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="189" x="62.5" y="445.1685">Display live feed with overlays</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1701" x="5" y="478.8008"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="478.8008" y2="478.8008"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="481.8008" y2="481.8008"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1.0;" width="171" x="770" y="468.2344"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="152" x="776" y="484.3013">Treatment Execution</text><polygon fill="#000000" points="251.5,518.5,261.5,522.5,251.5,526.5,255.5,522.5" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="522.5" y2="522.5"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96" x="109" y="517.4341">Select protocol</text><polygon fill="#000000" points="807.5,547.6328,817.5,551.6328,807.5,555.6328,811.5,551.6328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="813.5" y1="551.6328" y2="551.6328"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166" x="458.5" y="546.5669">load_protocol(protocol_id)</text><polygon fill="#000000" points="274.5,576.7656,264.5,580.7656,274.5,584.7656,270.5,580.7656" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="818.5" y1="580.7656" y2="580.7656"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="102" x="490.5" y="575.6997">protocol_loaded</text><polygon fill="#000000" points="251.5,605.8984,261.5,609.8984,251.5,613.8984,255.5,609.8984" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="609.8984" y2="609.8984"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117" x="98.5" y="604.8325">Click "ARM" button</text><polygon fill="#000000" points="656,635.0313,666,639.0313,656,643.0313,660,639.0313" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="662" y1="639.0313" y2="639.0313"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161" x="385.25" y="633.9653">check_safety_interlocks()</text><polygon fill="#000000" points="981,664.1641,991,668.1641,981,672.1641,985,668.1641" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="987" y1="668.1641" y2="668.1641"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139" x="761" y="663.0981">get_interlock_status()</text><polygon fill="#000000" points="679,693.2969,669,697.2969,679,701.2969,675,697.2969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="673" x2="992" y1="697.2969" y2="697.2969"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="301" x="680" y="692.231">{footpedal, smoothing, photodiode, watchdog}</text><polygon fill="#000000" points="274.5,722.4297,264.5,726.4297,274.5,730.4297,270.5,726.4297" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="667" y1="726.4297" y2="726.4297"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129" x="401.25" y="721.3638">safety_status(SAFE)</text><polygon fill="#000000" points="656,751.5625,666,755.5625,656,759.5625,660,755.5625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="662" y1="755.5625" y2="755.5625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139" x="396.25" y="750.4966">transition_to_armed()</text><polygon fill="#000000" points="1341.5,780.6953,1351.5,784.6953,1341.5,788.6953,1345.5,784.6953" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="1347.5" y1="784.6953" y2="784.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128" x="946.75" y="779.6294">log_event("ARMED")</text><polygon fill="#000000" points="274.5,809.8281,264.5,813.8281,274.5,817.8281,270.5,813.8281" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="667" y1="813.8281" y2="813.8281"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151" x="390.25" y="808.7622">state_changed(ARMED)</text><polygon fill="#000000" points="251.5,838.9609,261.5,842.9609,251.5,846.9609,255.5,842.9609" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="842.9609" y2="842.9609"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117" x="98.5" y="837.895">Depress footpedal</text><polygon fill="#000000" points="679,868.0938,669,872.0938,679,876.0938,675,872.0938" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="673" x2="992" y1="872.0938" y2="872.0938"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128" x="766.5" y="867.0278">footpedal_pressed()</text><polygon fill="#000000" points="807.5,897.2266,817.5,901.2266,807.5,905.2266,811.5,901.2266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="813.5" y1="901.2266" y2="901.2266"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112" x="687.75" y="896.1606">start_treatment()</text><polygon fill="#000000" points="1131.5,926.3594,1141.5,930.3594,1131.5,934.3594,1135.5,930.3594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="819.5" x2="1137.5" y1="930.3594" y2="930.3594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="934" y="925.2935">set_power(5.0)</text><polygon fill="#000000" points="1341.5,955.4922,1351.5,959.4922,1341.5,963.4922,1345.5,959.4922" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1143.5" x2="1347.5" y1="959.4922" y2="959.4922"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186" x="1155.5" y="954.4263">log_event("POWER_SET", 5.0)</text><polygon fill="#000000" points="1341.5,984.625,1351.5,988.625,1341.5,992.625,1345.5,988.625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="1347.5" y1="988.625" y2="988.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144" x="938.75" y="983.5591">log_event("TREATING")</text><polygon fill="#000000" points="274.5,1013.7578,264.5,1017.7578,274.5,1021.7578,270.5,1017.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="667" y1="1017.7578" y2="1017.7578"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167" x="382.25" y="1012.6919">state_changed(TREATING)</text><path d="M197.5,1032.7578 L274.5,1032.7578 L274.5,1039.8906 L264.5,1049.8906 L197.5,1049.8906 L197.5,1032.7578 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="310.4609" style="stroke:#000000;stroke-width:1.0;" width="1498.5" x="197.5" y="1032.7578"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="212.5" y="1045.8247">loop</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="195" x="289.5" y="1044.9683">[Every 10ms during treatment]</text><polygon fill="#000000" points="1131.5,1067.0234,1141.5,1071.0234,1131.5,1075.0234,1135.5,1071.0234" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="819.5" x2="1137.5" y1="1071.0234" y2="1071.0234"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="148" x="907.5" y="1065.9575">set_power(step_power)</text><polygon fill="#000000" points="1628,1096.1563,1638,1100.1563,1628,1104.1563,1632,1100.1563" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="819.5" x2="1634" y1="1100.1563" y2="1100.1563"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="172" x="1143.75" y="1095.0903">set_position(step_position)</text><polygon fill="#000000" points="830.5,1125.2891,820.5,1129.2891,830.5,1133.2891,826.5,1129.2891" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="824.5" x2="992" y1="1129.2891" y2="1129.2891"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118" x="847.25" y="1124.2231">read_photodiode()</text><polygon fill="#000000" points="1341.5,1154.4219,1351.5,1158.4219,1341.5,1162.4219,1345.5,1158.4219" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="819.5" x2="1347.5" y1="1158.4219" y2="1158.4219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="233" x="970" y="1153.356">log_event("TREATMENT_STEP", data)</text><polygon fill="#000000" points="981,1183.5547,991,1187.5547,981,1191.5547,985,1187.5547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="987" y1="1187.5547" y2="1187.5547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115" x="773" y="1182.4888">check_interlocks()</text><path d="M207.5,1202.5547 L271.5,1202.5547 L271.5,1209.6875 L261.5,1219.6875 L207.5,1219.6875 L207.5,1202.5547 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:1.0;" width="1218.5" x="207.5" y="1202.5547"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="222.5" y="1215.6216">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="286.5" y="1214.7651">[Interlock failure]</text><polygon fill="#000000" points="679,1236.8203,669,1240.8203,679,1244.8203,675,1240.8203" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="673" x2="992" y1="1240.8203" y2="1240.8203"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149" x="756" y="1235.7544">interlock_failed(reason)</text><polygon fill="#000000" points="1131.5,1265.9531,1141.5,1269.9531,1131.5,1273.9531,1135.5,1269.9531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="1137.5" y1="1269.9531" y2="1269.9531"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="93" x="859.25" y="1264.8872">disable_laser()</text><polygon fill="#000000" points="1341.5,1295.0859,1351.5,1299.0859,1341.5,1303.0859,1345.5,1299.0859" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="1347.5" y1="1299.0859" y2="1299.0859"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="174" x="923.75" y="1294.02">log_event("FAULT", reason)</text><polygon fill="#000000" points="274.5,1324.2188,264.5,1328.2188,274.5,1332.2188,270.5,1328.2188" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="667" y1="1328.2188" y2="1328.2188"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158" x="386.75" y="1323.1528">state_changed(UNSAFE)</text><polygon fill="#000000" points="251.5,1367.3516,261.5,1371.3516,251.5,1375.3516,255.5,1371.3516" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="1371.3516" y2="1371.3516"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114" x="100" y="1366.2856">Release footpedal</text><polygon fill="#000000" points="679,1396.4844,669,1400.4844,679,1404.4844,675,1400.4844" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="673" x2="992" y1="1400.4844" y2="1400.4844"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132" x="764.5" y="1395.4185">footpedal_released()</text><polygon fill="#000000" points="807.5,1425.6172,817.5,1429.6172,807.5,1433.6172,811.5,1429.6172" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="813.5" y1="1429.6172" y2="1429.6172"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121" x="683.25" y="1424.5513">pause_treatment()</text><polygon fill="#000000" points="1131.5,1454.75,1141.5,1458.75,1131.5,1462.75,1135.5,1458.75" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="819.5" x2="1137.5" y1="1458.75" y2="1458.75"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="934" y="1453.6841">set_power(0.0)</text><polygon fill="#000000" points="1341.5,1483.8828,1351.5,1487.8828,1341.5,1491.8828,1345.5,1487.8828" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="668" x2="1347.5" y1="1487.8828" y2="1487.8828"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="218" x="901.75" y="1482.8169">log_event("TREATMENT_PAUSED")</text><polygon fill="#000000" points="274.5,1513.0156,264.5,1517.0156,274.5,1521.0156,270.5,1517.0156" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="667" y1="1517.0156" y2="1517.0156"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151" x="390.25" y="1511.9497">state_changed(ARMED)</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1701" x="5" y="1545.582"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="1545.582" y2="1545.582"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1706" y1="1548.582" y2="1548.582"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1.0;" width="135" x="788" y="1535.0156"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="794" y="1551.0825">Session Closure</text><polygon fill="#000000" points="251.5,1585.2813,261.5,1589.2813,251.5,1593.2813,255.5,1589.2813" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="50.5" x2="257.5" y1="1589.2813" y2="1589.2813"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76" x="119" y="1584.2153">End session</text><polygon fill="#000000" points="499.5,1614.4141,509.5,1618.4141,499.5,1622.4141,503.5,1618.4141" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="263.5" x2="505.5" y1="1618.4141" y2="1618.4141"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="125" x="325" y="1613.3481">end_session(notes)</text><polygon fill="#000000" points="1341.5,1643.5469,1351.5,1647.5469,1341.5,1651.5469,1345.5,1647.5469" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="511.5" x2="1347.5" y1="1647.5469" y2="1647.5469"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193" x="836" y="1642.481">log_event("SESSION_ENDED")</text><polygon fill="#000000" points="274.5,1672.6797,264.5,1676.6797,274.5,1680.6797,270.5,1676.6797" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="268.5" x2="510.5" y1="1676.6797" y2="1676.6797"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="340" y="1671.6138">session_ended</text><!--SRC=[ZLLDR-Cs4BthLqnraW6do1ws1mCfO3ZQXO74SICRUnGOQIopfaYLf9AcHVzxXwHaMxQJjG53_7YSZpTlo5_i5ck4HZ0k8xFZic6QrM3mhnPbWOze3AjmAdWbeK1fKKUHvLOWh3GoMzCI_51wjn7g3MvWeNJD13mrg9dbIaOHAwpIiC9YAtd1cOp8WQLHm-Xal7p_m_u6wtaCpD1dk9cHSx81ZqnI3DfZkhKJ8DkWVH_Y_DA9CwsiAfI0L5PSeiVrQqFaz-Ny2MPAMgs4w2owjI7gWHdKfp2_ECIbhuwb1rNrmOLX5DtTzVd0N7BBcU3_UDhWxYuwK0OtlnCt4y8AB2oOzkLF-aRhkTle34oWSFN0t8Hvqg5oNex1aYaQZABU6vqBCKn0g2f75s0IPscMpPyM-UmvdQxI-tY0Tm5qjlFWgapwkJFjabbgl3d88aFRDXzaOeaVA5XDCe4DOjab4y_2qX6dvDM1SsF9SCrbbOmk60m2PRA4ZIfQqvaxu2Pmpms9_1q4VqNl4jwutO9wHKtBniT_Y3tz6ulsfvLeUl44TxsM7AcipFlTf1zudlOYx4pjDzqP8kA2jvdWnGxYwVDZ32-jjIJ_hlPUv5JwBHQxtFXPpbsJ2bNi337LTGPXdNmdKA4z08XJPbi7yte_ClZlHYdROCd464nDuoqHFuPcIx6MN9KuXZTcYssfgl-EV7YDX2WwqzdqMqhQ68PhDPE6EtPpgtAcQvBISQWNf4cv1q4EVLcd-6BBP4KcF6PqYS1xR3H95VPPdIMytyazyYIWGs635cslasHOJz_xharitgWtrCdNNsz7KRWcBkUrVFgHFkTPkeh7uC6Vih1oZJbVVFy94JsCk11ADK3tZtw7BxUrWRBLL4dO9n01_JvDmLXimd1q1ewdXMqPtUznVoAKjJyKPk5Sp_Y1Iug1ccGlgUJS_aSKFAQBLPwjqYMnLZBBmibJhOUk6BI3Wp5XwRRj5c73k6Wr-ftZC7jX79h58ObSYjhqEGszTjILtB0NWRbmq-GYy3ojRzFrWzF0nzRFoxnUXEvoE9HbvFuNnFzCTnM5SfNuTS1-fFw6jGQlL__jTOBsrLnErzdL7NxqRiw4CbI_ozTqIkz1zqQTlfP4rlwfbCgYkVPnJ1VtdpsDP9SkyVy1]--></g></svg>